# 合并二叉树 - 动画分镜总览

## 算法概述

LeetCode 617: 合并二叉树 (Merge Two Binary Trees)

**问题描述：**
给你两棵二叉树：root1 和 root2。当你将其中一棵覆盖到另一棵之上时，两棵树上的一些节点将会重叠（而另一些不会）。你需要将这两棵树合并成一棵新二叉树。合并的规则是：如果两个节点重叠，那么将这两个节点的值相加作为合并后节点的新值；否则，**不为** null 的节点将直接作为新二叉树的节点。

返回合并后的二叉树。

**示例:**

![合并二叉树示例](../题目详情.assets/merge.jpg)

```
输入：root1 = [1,3,2,5], root2 = [2,1,3,null,4,null,7]
输出：[3,4,5,5,4,null,7]
```

**合并规则详解：**
1. 如果两个节点都存在，值相加作为新节点的值
2. 如果只有一个节点存在，直接使用该节点
3. 如果两个节点都不存在，结果为空

## 动画设计通用规范

本项目实现了两种算法的可视化：深度优先搜索(DFS)和广度优先搜索(BFS)，两种算法各有独特的遍历和处理方式，但共享以下设计元素。

### 颜色编码系统
- **蓝色(#4285F4)**：第一棵树的节点 - 表示左侧输入树
- **橙色(#F4B400)**：第二棵树的节点 - 表示右侧输入树
- **绿色(#0F9D58)**：合并后的节点 - 表示结果树

### 视觉效果设计
- **节点表示**：圆形，直径根据重要性和状态变化
- **边表示**：连接线，粗细和颜色随状态变化
- **缩放效果**：
  - 正常状态：scale = 1.0
  - 高亮状态：scale = 1.2（当前正在处理的节点）
  - 强调状态：scale = 1.3（特殊情况的强调）
- **透明度效果**：
  - 完全可见：opacity = 1.0（已处理的节点）
  - 半透明：opacity = 0.7（处理中的节点）
  - 低透明度：opacity = 0.4（未处理或待处理的节点）
- **边的动画效果**：
  - 标准边：width = 1.0, stroke = 对应节点颜色
  - 活跃边：width = 2.0, stroke = 鲜亮的对应颜色
  - 新创建边：width = 1.5, opacity从0.5渐变到1.0

有关视觉设计的更详细规范，请参阅[视觉设计指南](./视觉设计指南.md)文档。

### 动画过渡效果
- 节点状态变化时使用平滑过渡动画，持续时间约300-500ms
- 新节点创建时使用淡入效果
- 树结构变化时使用平滑的位置调整动画

### 文本说明与标注
- 每个动画步骤配有简洁的标题文本
- 详细解释文本位于控制面板区域
- 关键步骤会有额外的强调标注

## 交互控制系统

用户可以通过控制面板进行以下操作：

### 基本控制
1. **播放/暂停**：控制动画的自动播放和暂停
   - 播放状态下按钮显示暂停图标
   - 暂停状态下按钮显示播放图标

2. **步进控制**：
   - **上一步**：回退到前一个动画步骤
   - **下一步**：前进到下一个动画步骤
   - 当位于首步或末步时，相应按钮变为禁用状态

3. **速度调节**：
   - 提供0.5x - 2.0x的播放速度选项
   - 默认速度为1.0x

### 算法选择与重置
1. **算法切换**：在DFS和BFS两种算法之间切换
   - 切换时自动重置动画状态
   - 提供算法特点的简要说明

2. **重置**：
   - 将动画重置到初始状态
   - 保留当前选择的算法

### 进度指示
- 显示当前步骤/总步骤数
- 提供进度条指示当前位置
- 支持通过进度条直接跳转到特定步骤

有关交互设计的更详细说明，请参阅[交互设计规范](./交互设计规范.md)文档。

## 详细算法文档

为了提供更深入的算法动画解析，我们将相关内容分为以下几个文档：

### 算法实现详解

- [深度优先搜索(DFS)合并算法动画](./DFS合并算法动画.md) - 详细介绍DFS算法的动画分镜
- [广度优先搜索(BFS)合并算法动画](./BFS合并算法动画.md) - 详细介绍BFS算法的动画分镜

### 算法对比与分析

- [DFS与BFS合并算法对比分析](./算法对比.md) - 系统对比两种算法的特点、优缺点和适用场景

### 用户交互与设计

- [交互设计规范](./交互设计规范.md) - 详细规定动画的交互设计、界面布局和用户体验标准
- [视觉设计指南](./视觉设计指南.md) - 全面规范视觉风格、色彩系统、排版和图形元素设计
- [布局优化方案](./布局优化方案.md) - 为单屏显示优化界面布局，最大化画布空间利用率

这些文档详细描述了每种算法的动画步骤、特殊情况处理以及优势与局限性，帮助用户深入理解二叉树合并的不同实现方式。

## 动画实现规划

实现动画时，我们将按照以下步骤进行：

1. **基础数据结构实现**：
   - 树节点表示
   - 树的创建和可视化

2. **算法核心逻辑实现**：
   - DFS递归合并
   - BFS队列合并

3. **动画效果实现**：
   - 节点状态变化
   - 边的创建和更新
   - 文本说明更新

4. **交互控制实现**：
   - 播放控制
   - 步进控制
   - 算法切换
   - 速度调节

按照详细的分镜文档实现每个步骤，确保视觉效果和逻辑流程一致。
